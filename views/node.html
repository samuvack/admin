{% extends 'baselayout.html' %}
{% block title 'Node info' %}

{% block content %}
<div class="content">
	<h1>Info on {{node.getName|e}}</h1>
	<h4>{{node.getName|e}}</h4>
	<ul class="nodes">
		<li>{{node.getDescription|e}}</li>
	</ul>

	<h3>Properties and relations on {{node.getName}}</h3>
	<ul class="nodes">
		{% for relation in relFrom %}
		<li>{{relation.getProperty.getName|e}}
			{% if relation.getProperty.getDatatype == 'node' %}
				<a href="{{ path('node', {id:relation.getValue.getId}) }}">{{relation.getValue.getName|e}}</a>
			{% else %}
				{{relation.getValue|e}}
			{% endif %}
			</li>	
		{% endfor %}
	</ul>
	
	<h3>Relations to {{node.getName|e}}</h3>
	<ul class="nodes">
		{% for relation in relTo %}
			<li><a href="{{ path('node', {id:relation.getStart.getId}) }}">{{relation.getStart.getName|e}}</a>
			{{relation.getProperty.getName|e}} {{node.getName|e}}
			</li>
		{% endfor %}
	</ul>
	<a href="{{path('history', {id:node.id})}}"> Show history </a> <br>
	<a href="{{path('update',{id: node.id})}}">Update</a> <br>
	<a href="{{ path('home') }}">Back to overview</a>
</div>
{% endblock %}
